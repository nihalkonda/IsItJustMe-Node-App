
> isitjustme-node-app@1.0.0 start /Users/appleapple/cmpe280/isitjustme-node-app
> nodemon -x ts-node ./src/index.ts

[33m[nodemon] 2.0.4[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function],
  createTestAccount: [Function],
  getTestMessageUrl: [Function]
} [Function]
Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function],
      error: [Function],
      idle: [Function]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular]
  },
  logger: {
    trace: [Function],
    debug: [Function],
    info: [Function],
    warn: [Function],
    error: [Function],
    fatal: [Function]
  },
  close: [Function],
  isIdle: [Function],
  verify: [Function]
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405235665',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw
middleware requestProcessor Request {
  id: '1606405235665',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405235.819
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405235665',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405235.819
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405235665',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405235.819
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606405235665',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 221MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405236241',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405236244',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw
middleware requestProcessor Request {
  id: '1606405236241',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405236.355
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405236241',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405236.355
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405236241',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405236.355
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw
middleware requestProcessor Request {
  id: '1606405236244',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405236.369
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405236244',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405236.369
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 131MS
AMJ Request {
  id: '1606405236244',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405236.369
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 136MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/ {} { content: '<p>Comment 1</p>', context: 'general' }
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405257944',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '50',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw
middleware requestProcessor Request {
  id: '1606405257944',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405258.054
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 1</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405257944',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405258.054
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 1</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405257944',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNDQ0ODg0MSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDQxOCwiZXhwIjoxNjA2NDA0NDQ4fQ.e5X8Dun7maiO-EJxHHFbN-mZqDwv_K3L1jCu1mttqAw',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405258.054
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 1</p>', context: 'general' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ true
AMJ 403
::1 POST / 113MS
logger version v1
::1 GET /api/v1/auth/access_token {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405258072',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Refresh ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
middleware requestProcessor Request {
  id: '1606405258072',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405258.179
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
getActiveRefreshTokenCount tokenValue eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
getActiveRefreshTokenCount {
  '$and': [
    {
      'refreshToken.value': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc'
    },
    { 'refreshToken.expiryTime': [Object] }
  ]
}
getActiveRefreshTokenCount 1
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1608996280413,
  isConfirmed: true,
  iat: 1606404280,
  exp: 1608996280
}
middleware requestProcessor almost done Request {
  id: '1606405258072',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2591022.227
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405258072',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2591022.227
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
::1 GET /access_token 118MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/ {} { content: '<p>Comment 1</p>', context: 'general' }
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405258202',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '50',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y
middleware requestProcessor Request {
  id: '1606405258202',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405258.317
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 1</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405288188,
  isConfirmed: true,
  iat: 1606405258,
  exp: 1606405288
}
middleware requestProcessor almost done Request {
  id: '1606405258202',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 1606405288188,
      isExpired: false,
      secondsToExpiry: 29.87
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 1</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405258202',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 1606405288188,
      isExpired: false,
      secondsToExpiry: 29.87
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 1</p>', context: 'general' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ true
AMJ done
validateRequestBody {
  type: 'object',
  additionalProperties: false,
  required: [ 'content', 'context' ],
  properties: {
    content: { type: 'string' },
    context: { type: 'string', enum: [Array] },
    location: {
      type: 'object',
      additionalProperties: true,
      required: [Array],
      properties: [Object]
    }
  }
}
comment.service Request {
  id: '1606405258202',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 1606405288188,
      isExpired: false,
      secondsToExpiry: 29.87
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 1</p>', context: 'general' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
} { content: '<p>Comment 1</p>', context: 'general' }
base.repository  5fbfc35293e1dc3f2ce5dd7c
AuthorService checkIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 26,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
comment.service create postIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 26,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
normalizeJson {
  content: '<p>Comment 1</p>',
  context: 'general',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7'
}
normalizeJson {
  latitude: 38.6841,
  longitude: -121.0676,
  raw: {
    range: [ 393737216, 393738239 ],
    country: 'US',
    region: 'CA',
    eu: '0',
    timezone: 'America/Los_Angeles',
    city: 'El Dorado Hills',
    ll: [ 38.6841, -121.0676 ],
    metro: 862,
    area: 10
  }
}
normalizeJson {
  range: [ 393737216, 393738239 ],
  country: 'US',
  region: 'CA',
  eu: '0',
  timezone: 'America/Los_Angeles',
  city: 'El Dorado Hills',
  ll: [ 38.6841, -121.0676 ],
  metro: 862,
  area: 10
}
normalizeJson [ 393737216, 393738239 ]
normalizeJson [ 38.6841, -121.0676 ]
comment.service db insert {
  content: '<p>Comment 1</p>',
  context: 'general',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7'
}
PubSub {
  request: Request {
    id: '1606405258202',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_CREATED',
  data: {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z,
    __v: 0
  }
}
commentStats {
  context: 'general',
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcc8a1a28804352da6f9f,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 0,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfcc8a1a28804352da6f9d
  },
  _id: 5fbfcc8a1a28804352da6f9e,
  content: '<p>Comment 1</p>',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:40:58.330Z,
  lastModifiedAt: 2020-11-26T15:40:58.330Z,
  __v: 0
} postId true
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'commentCount', increase: 1 } ]
comment.service published message
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z',
    __v: 0
  }
]
::1 POST / 146MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405258370',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y
middleware requestProcessor Request {
  id: '1606405258370',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405258.484
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405288188,
  isConfirmed: true,
  iat: 1606405258,
  exp: 1606405288
}
middleware requestProcessor almost done Request {
  id: '1606405258370',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 1606405288188,
      isExpired: false,
      secondsToExpiry: 29.703
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405258370',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 1606405288188,
      isExpired: false,
      secondsToExpiry: 29.703
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606405258370',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 26,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 1,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 26,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 1,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 26,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 1,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 125MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405258577',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y
middleware requestProcessor Request {
  id: '1606405258577',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405258.685
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405288188,
  isConfirmed: true,
  iat: 1606405258,
  exp: 1606405288
}
middleware requestProcessor almost done Request {
  id: '1606405258577',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 1606405288188,
      isExpired: false,
      secondsToExpiry: 29.503
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405258577',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 1606405288188,
      isExpired: false,
      secondsToExpiry: 29.503
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 125MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/ {} { content: '<p>Comment 2</p>', context: 'general' }
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405365850',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '50',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y
middleware requestProcessor Request {
  id: '1606405365850',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405365.97
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 2</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405365850',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405365.97
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 2</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405365850',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTI4ODE4OCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTI1OCwiZXhwIjoxNjA2NDA1Mjg4fQ.y_zy9ogAXy5X1J7PtRMEStkebD-GdE03hdlR6eQ0a1Y',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405365.97
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 2</p>', context: 'general' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ true
AMJ 403
::1 POST / 122MS
logger version v1
::1 GET /api/v1/auth/access_token {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405365985',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Refresh ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
middleware requestProcessor Request {
  id: '1606405365985',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405366.103
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
getActiveRefreshTokenCount tokenValue eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
getActiveRefreshTokenCount {
  '$and': [
    {
      'refreshToken.value': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc'
    },
    { 'refreshToken.expiryTime': [Object] }
  ]
}
getActiveRefreshTokenCount 1
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1608996280413,
  isConfirmed: true,
  iat: 1606404280,
  exp: 1608996280
}
middleware requestProcessor almost done Request {
  id: '1606405365985',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2590914.307
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405365985',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2590914.307
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
::1 GET /access_token 122MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/ {} { content: '<p>Comment 2</p>', context: 'general' }
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405366118',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '50',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405366118',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405366.235
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 2</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405366118',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 29.87
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 2</p>', context: 'general' },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405366118',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 29.87
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 2</p>', context: 'general' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ true
AMJ done
validateRequestBody {
  type: 'object',
  additionalProperties: false,
  required: [ 'content', 'context' ],
  properties: {
    content: { type: 'string' },
    context: { type: 'string', enum: [Array] },
    location: {
      type: 'object',
      additionalProperties: true,
      required: [Array],
      properties: [Object]
    }
  }
}
comment.service Request {
  id: '1606405366118',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 29.87
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { content: '<p>Comment 2</p>', context: 'general' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
} { content: '<p>Comment 2</p>', context: 'general' }
base.repository  5fbfc35293e1dc3f2ce5dd7c
AuthorService checkIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 27,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 1,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
comment.service create postIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 27,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 1,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
normalizeJson {
  content: '<p>Comment 2</p>',
  context: 'general',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7'
}
normalizeJson {
  latitude: 38.6841,
  longitude: -121.0676,
  raw: {
    range: [ 393737216, 393738239 ],
    country: 'US',
    region: 'CA',
    eu: '0',
    timezone: 'America/Los_Angeles',
    city: 'El Dorado Hills',
    ll: [ 38.6841, -121.0676 ],
    metro: 862,
    area: 10
  }
}
normalizeJson {
  range: [ 393737216, 393738239 ],
  country: 'US',
  region: 'CA',
  eu: '0',
  timezone: 'America/Los_Angeles',
  city: 'El Dorado Hills',
  ll: [ 38.6841, -121.0676 ],
  metro: 862,
  area: 10
}
normalizeJson [ 393737216, 393738239 ]
normalizeJson [ 38.6841, -121.0676 ]
comment.service db insert {
  content: '<p>Comment 2</p>',
  context: 'general',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7'
}
PubSub {
  request: Request {
    id: '1606405366118',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_CREATED',
  data: {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
commentStats {
  context: 'general',
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfccf61a28804352da6fb7,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 0,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfccf61a28804352da6fb5
  },
  _id: 5fbfccf61a28804352da6fb6,
  content: '<p>Comment 2</p>',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:42:46.242Z,
  lastModifiedAt: 2020-11-26T15:42:46.242Z,
  __v: 0
} postId true
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'commentCount', increase: 1 } ]
comment.service published message
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfccf61a28804352da6fb7',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 POST / 133MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405366279',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405366279',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405366.387
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405366279',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 29.719
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405366279',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 29.719
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606405366279',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 27,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 27,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 27,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 117MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405366469',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405366469',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405366.598
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405366469',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 29.506
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405366469',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 29.506
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfccf61a28804352da6fb7',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 146MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405372728',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405372728',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405372.836
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405372728',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 23.27
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405372728',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 23.27
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 120MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405372861',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405372861',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405372.969
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405372861',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 23.136
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405372861',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 23.136
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405372861',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfccf61a28804352da6fb7',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 121MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405373027',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405373027',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405373.144
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405373027',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 22.962
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606405373027',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 22.962
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 128MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405375277',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405375277',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405375.39
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405375277',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 20.715
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405375277',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 20.715
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 120MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405375408',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405375408',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405375.521
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405375408',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 20.585
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405375408',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 20.585
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405375408',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfccf61a28804352da6fb7,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfccf61a28804352da6fb7',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 123MS
logger version v1
::1 PUT /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {
  content: '<p>Comment 2</p>',
  context: 'update',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  }
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405380308',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '284',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405380308',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405380.425
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'update',
      location: [Object]
    },
    query: {},
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405380308',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.68
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'update',
      location: [Object]
    },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405380308',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.68
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'update',
      location: [Object]
    },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ true
AMJ done
base.repository  5fbfccf61a28804352da6fb6
repository isAuthor 5fbfccf61a28804352da6fb6 5fbb52979ec81978f200e7e7
repository isAuthor {
  context: 'general',
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfccf61a28804352da6fb7,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 0,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfccf61a28804352da6fb5
  },
  _id: 5fbfccf61a28804352da6fb6,
  content: '<p>Comment 2</p>',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:42:46.242Z,
  lastModifiedAt: 2020-11-26T15:42:46.242Z,
  __v: 0
}
isAuthor true
validateRequestBody {
  type: 'object',
  additionalProperties: false,
  required: [ 'content', 'context' ],
  properties: {
    content: { type: 'string' },
    context: { type: 'string', enum: [Array] },
    location: {
      type: 'object',
      additionalProperties: true,
      required: [Array],
      properties: [Object]
    }
  }
}
comment.service Request {
  id: '1606405380308',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.68
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'update',
      location: [Object]
    },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
} {
  content: '<p>Comment 2</p>',
  context: 'update',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  }
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AuthorService checkIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 28,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
comment.service create postIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 28,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
normalizeJson {
  content: '<p>Comment 2</p>',
  context: 'update',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7'
}
normalizeJson {
  latitude: 38.6841,
  longitude: -121.0676,
  raw: {
    range: [ 393737216, 393738239 ],
    country: 'US',
    region: 'CA',
    eu: '0',
    timezone: 'America/Los_Angeles',
    city: 'El Dorado Hills',
    ll: [ 38.6841, -121.0676 ],
    metro: 862,
    area: 10
  }
}
normalizeJson {
  range: [ 393737216, 393738239 ],
  country: 'US',
  region: 'CA',
  eu: '0',
  timezone: 'America/Los_Angeles',
  city: 'El Dorado Hills',
  ll: [ 38.6841, -121.0676 ],
  metro: 862,
  area: 10
}
normalizeJson [ 393737216, 393738239 ]
normalizeJson [ 38.6841, -121.0676 ]
comment.service db update {
  content: '<p>Comment 2</p>',
  context: 'update',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  isDeleted: false
}
PubSub {
  request: Request {
    id: '1606405380308',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_UPDATED',
  data: {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
PubSub {
  request: Request {
    id: '1606405380308',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_CONTEXT_CHANGED',
  data: { postId: '5fbfc35293e1dc3f2ce5dd7c', old: 'general', new: 'update' }
}
commentContextChanged { postId: '5fbfc35293e1dc3f2ce5dd7c', old: 'general', new: 'update' } postId
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'updateCount', increase: 1 } ]
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd041a28804352da6fe8',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 PUT /5fbfccf61a28804352da6fb6 141MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405380601',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405380601',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405380.716
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405380601',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.389
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405380601',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.389
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 125MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405380738',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405380738',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405380.847
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405380738',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.258
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405380738',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.258
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405380738',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd041a28804352da6fe8',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 119MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405380880',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405380880',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405380.991
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405380880',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.114
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606405380880',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 15.114
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405383173',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405383173',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405383.287
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405383173',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 12.818
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405383173',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 12.818
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606405383173',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 28,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 127MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405383378',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405383381',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405383378',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405383.49
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405383378',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 12.615
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405383378',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 12.615
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 117MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405383381',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405383.498
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405396106,
  isConfirmed: true,
  iat: 1606405366,
  exp: 1606405396
}
middleware requestProcessor almost done Request {
  id: '1606405383381',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 12.607
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405383381',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 1606405396106,
      isExpired: false,
      secondsToExpiry: 12.607
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd041a28804352da6fe8',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 129MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405482440',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405482440',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.558
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405482440',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.558
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405482440',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.558
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 127MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405482580',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405482580',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.691
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405482580',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.691
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405482580',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.691
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405482580',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd041a28804352da6fe8',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 122MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405482726',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405482726',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.837
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405482726',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.837
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606405482726',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405482.837
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 117MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405485219',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405485219',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405485.331
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405485219',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405485.331
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405485219',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405485.331
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 1,
      resolveCount: 0,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 120MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405485354',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405485354',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405485.463
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405485354',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405485.463
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405485354',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405485.463
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405485354',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd041a28804352da6fe8,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'update',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd041a28804352da6fe8',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 119MS
logger version v1
::1 PUT /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {
  content: '<p>Comment 2</p>',
  context: 'resolve',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  }
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405487290',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '285',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY
middleware requestProcessor Request {
  id: '1606405487290',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405487.404
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'resolve',
      location: [Object]
    },
    query: {},
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405487290',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405487.404
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'resolve',
      location: [Object]
    },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405487290',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTM5NjEwNiwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTM2NiwiZXhwIjoxNjA2NDA1Mzk2fQ.6dXryld9B5cQDcOXBB_0nJfUm_zwOOWYmmPWu6VdBiY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405487.404
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'resolve',
      location: [Object]
    },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ true
AMJ 403
::1 PUT /5fbfccf61a28804352da6fb6 117MS
logger version v1
::1 GET /api/v1/auth/access_token {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405487423',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Refresh ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
middleware requestProcessor Request {
  id: '1606405487423',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405487.587
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
getActiveRefreshTokenCount tokenValue eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
getActiveRefreshTokenCount {
  '$and': [
    {
      'refreshToken.value': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc'
    },
    { 'refreshToken.expiryTime': [Object] }
  ]
}
getActiveRefreshTokenCount 1
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1608996280413,
  isConfirmed: true,
  iat: 1606404280,
  exp: 1608996280
}
middleware requestProcessor almost done Request {
  id: '1606405487423',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2590792.824
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405487423',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2590792.824
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
::1 GET /access_token 167MS
logger version v1
::1 PUT /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {
  content: '<p>Comment 2</p>',
  context: 'resolve',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  }
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405487601',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '285',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405487601',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405487.71
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'resolve',
      location: [Object]
    },
    query: {},
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405487601',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.879
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'resolve',
      location: [Object]
    },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405487601',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.879
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'resolve',
      location: [Object]
    },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ true
AMJ done
base.repository  5fbfccf61a28804352da6fb6
repository isAuthor 5fbfccf61a28804352da6fb6 5fbb52979ec81978f200e7e7
repository isAuthor {
  context: 'update',
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd041a28804352da6fe8,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 0,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfccf61a28804352da6fb5
  },
  _id: 5fbfccf61a28804352da6fb6,
  content: '<p>Comment 2</p>',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:42:46.242Z,
  lastModifiedAt: 2020-11-26T15:42:46.242Z,
  __v: 0
}
isAuthor true
validateRequestBody {
  type: 'object',
  additionalProperties: false,
  required: [ 'content', 'context' ],
  properties: {
    content: { type: 'string' },
    context: { type: 'string', enum: [Array] },
    location: {
      type: 'object',
      additionalProperties: true,
      required: [Array],
      properties: [Object]
    }
  }
}
comment.service Request {
  id: '1606405487601',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.879
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      content: '<p>Comment 2</p>',
      context: 'resolve',
      location: [Object]
    },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
} {
  content: '<p>Comment 2</p>',
  context: 'resolve',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  }
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AuthorService checkIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 29,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 1,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
comment.service create postIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 29,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 1,
    resolveCount: 0,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
data.author 5fbb52979ec81978f200e7e7 post.author 5fbb52979ec81978f200e7e7
normalizeJson {
  content: '<p>Comment 2</p>',
  context: 'resolve',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7'
}
normalizeJson {
  latitude: 38.6841,
  longitude: -121.0676,
  raw: {
    range: [ 393737216, 393738239 ],
    country: 'US',
    region: 'CA',
    eu: '0',
    timezone: 'America/Los_Angeles',
    city: 'El Dorado Hills',
    ll: [ 38.6841, -121.0676 ],
    metro: 862,
    area: 10
  }
}
normalizeJson {
  range: [ 393737216, 393738239 ],
  country: 'US',
  region: 'CA',
  eu: '0',
  timezone: 'America/Los_Angeles',
  city: 'El Dorado Hills',
  ll: [ 38.6841, -121.0676 ],
  metro: 862,
  area: 10
}
normalizeJson [ 393737216, 393738239 ]
normalizeJson [ 38.6841, -121.0676 ]
comment.service db update {
  content: '<p>Comment 2</p>',
  context: 'resolve',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  isDeleted: false
}
PubSub {
  request: Request {
    id: '1606405487601',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_UPDATED',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
PubSub {
  request: Request {
    id: '1606405487601',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_CONTEXT_CHANGED',
  data: { postId: '5fbfc35293e1dc3f2ce5dd7c', old: 'update', new: 'resolve' }
}
commentContextChanged { postId: '5fbfc35293e1dc3f2ce5dd7c', old: 'update', new: 'resolve' } postId
updateStat 5fbfc35293e1dc3f2ce5dd7c [
  { property: 'updateCount', increase: -1 },
  { property: 'resolveCount', increase: 1 }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 PUT /5fbfccf61a28804352da6fb6 131MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405487872',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405487872',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405487.986
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405487872',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.603
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405487872',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.603
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 121MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405488004',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405488004',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405488.116
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405488004',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.472
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405488004',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.472
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405488004',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 121MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405488157',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405488157',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405488.269
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405488157',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.319
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606405488157',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 29.319
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 118MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405490154',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405490154',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405490.268
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405490154',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 27.321
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405490154',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 27.321
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606405490154',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 0,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 29,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 0,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 124MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405490339',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405490341',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405490339',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405490.447
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405490339',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 27.141
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405490341',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405490.452
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405490341',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 27.136
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405490339',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 27.141
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 117MS
AMJ Request {
  id: '1606405490341',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 27.136
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 128MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/ {} { opinionType: 'follow' }
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498026',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '24',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498026',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.155
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: { opinionType: 'follow' }, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498026',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.433
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: { opinionType: 'follow' }, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405498026',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.433
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'follow' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ true
AMJ done
validateRequestBody {
  type: 'object',
  additionalProperties: false,
  required: [ 'opinionType' ],
  properties: {
    body: { type: 'string' },
    opinionType: { type: 'string', enum: [Array] },
    location: {
      type: 'object',
      additionalProperties: true,
      required: [Array],
      properties: [Object]
    }
  }
}
opinion.service Request {
  id: '1606405498026',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.433
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'follow' },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
} { opinionType: 'follow' }
base.repository  5fbfc35293e1dc3f2ce5dd7c
AuthorService checkIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 30,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 1,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
comment.service create postIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 30,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 1,
    score: 0,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
base.repository {
  author: '5fbb52979ec81978f200e7e7',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none'
} {} [] 100 1
{
  author: '5fbb52979ec81978f200e7e7',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none'
} 100 1
[]
normalizeJson {
  opinionType: 'follow',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  postAuthorOpinion: true
}
normalizeJson {
  latitude: 38.6841,
  longitude: -121.0676,
  raw: {
    range: [ 393737216, 393738239 ],
    country: 'US',
    region: 'CA',
    eu: '0',
    timezone: 'America/Los_Angeles',
    city: 'El Dorado Hills',
    ll: [ 38.6841, -121.0676 ],
    metro: 862,
    area: 10
  }
}
normalizeJson {
  range: [ 393737216, 393738239 ],
  country: 'US',
  region: 'CA',
  eu: '0',
  timezone: 'America/Los_Angeles',
  city: 'El Dorado Hills',
  ll: [ 38.6841, -121.0676 ],
  metro: 862,
  area: 10
}
normalizeJson [ 393737216, 393738239 ]
normalizeJson [ 38.6841, -121.0676 ]
opinion.service db insert {
  opinionType: 'follow',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  postAuthorOpinion: true
}
PubSub {
  request: Request {
    id: '1606405498026',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'OPINION_CREATED',
  data: {
    opinionType: 'follow',
    postAuthorOpinion: true,
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z,
    __v: 0
  }
}
opinionCreated {
  opinionType: 'follow',
  postAuthorOpinion: true,
  _id: 5fbfcd7a1a28804352da704a,
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd7a1a28804352da704b,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:44:58.165Z,
  __v: 0
} postId 5fbfc35293e1dc3f2ce5dd7c
updateStat 5fbfc35293e1dc3f2ce5dd7c [
  { property: 'followCount', increase: 1 },
  { property: 'score', increase: 2 }
]
opinionCreated {
  opinionType: 'follow',
  postAuthorOpinion: true,
  _id: 5fbfcd7a1a28804352da704a,
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd7a1a28804352da704b,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:44:58.165Z,
  __v: 0
} commentId none
updateStat none [
  { property: 'followCount', increase: 1 },
  { property: 'score', increase: 2 }
]
opinion.service published message
::1 POST / 144MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498224',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498227',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498228',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498230',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498231',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498232',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498227',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.341
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498227',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.247
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405498227',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.247
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498224',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.344
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498224',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.244
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405498224',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.244
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498230',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.346
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498230',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.242
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405498230',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.242
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498232',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.349
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498232',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.24
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405498232',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.24
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498231',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.351
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498231',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.238
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405498231',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.238
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498228',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.352
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498228',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.237
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405498228',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.237
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606405498224',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606405498230',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 151MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 149MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 153MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 158MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 164MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498390',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 30,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 166MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498396',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498421',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498424',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498426',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498427',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498390',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.51
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498390',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.079
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498396',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.511
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498396',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.077
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405498396',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.077
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405498390',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.079
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606405498396',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 32,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 32,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 32,
      followCount: 1,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 2,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 134MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 143MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498426',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.536
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498426',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.053
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405498426',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.053
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498421',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.54
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498421',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.049
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498424',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.541
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498424',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.048
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498427',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.544
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498427',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.045
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
AMJ Request {
  id: '1606405498421',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.049
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606405498424',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.048
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606405498427',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 19.045
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
PubSub {
  request: Request {
    id: '1606405498426',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 139MS
PubSub {
  request: Request {
    id: '1606405498421',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606405498424',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 170MS
PubSub {
  request: Request {
    id: '1606405498427',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 174MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 174MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405498612',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405498612',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405498.735
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405498612',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 18.854
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405498612',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 18.854
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 135MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/ {} {
  opinionType: 'upvote',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  }
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405511894',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '259',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405511894',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.005
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'upvote', location: [Object] },
    query: {},
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405511894',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.583
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'upvote', location: [Object] },
    query: {},
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405511894',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.583
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'upvote', location: [Object] },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ true
AMJ done
validateRequestBody {
  type: 'object',
  additionalProperties: false,
  required: [ 'opinionType' ],
  properties: {
    body: { type: 'string' },
    opinionType: { type: 'string', enum: [Array] },
    location: {
      type: 'object',
      additionalProperties: true,
      required: [Array],
      properties: [Object]
    }
  }
}
opinion.service Request {
  id: '1606405511894',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.583
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'upvote', location: [Object] },
    query: {},
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
} {
  opinionType: 'upvote',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  }
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AuthorService checkIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 33,
    followCount: 1,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 1,
    score: 2,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
comment.service create postIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
      'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 33,
    followCount: 1,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 1,
    score: 2,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
base.repository {
  author: '5fbb52979ec81978f200e7e7',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none'
} {} [] 100 1
{
  author: '5fbb52979ec81978f200e7e7',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none'
} 100 1
[
  {
    opinionType: 'follow',
    postAuthorOpinion: true,
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z,
    __v: 0
  }
]
OpinionService Create {
  opinionType: 'follow',
  postAuthorOpinion: true,
  _id: 5fbfcd7a1a28804352da704a,
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd7a1a28804352da704b,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:44:58.165Z,
  __v: 0
} {
  opinionType: 'upvote',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  author: '5fbb52979ec81978f200e7e7',
  postAuthorOpinion: true
}
normalizeJson {
  opinionType: 'upvote',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  author: '5fbb52979ec81978f200e7e7',
  postAuthorOpinion: true
}
normalizeJson {
  latitude: 38.6841,
  longitude: -121.0676,
  raw: {
    range: [ 393737216, 393738239 ],
    country: 'US',
    region: 'CA',
    eu: '0',
    timezone: 'America/Los_Angeles',
    city: 'El Dorado Hills',
    ll: [ 38.6841, -121.0676 ],
    metro: 862,
    area: 10
  }
}
normalizeJson {
  range: [ 393737216, 393738239 ],
  country: 'US',
  region: 'CA',
  eu: '0',
  timezone: 'America/Los_Angeles',
  city: 'El Dorado Hills',
  ll: [ 38.6841, -121.0676 ],
  metro: 862,
  area: 10
}
normalizeJson [ 393737216, 393738239 ]
normalizeJson [ 38.6841, -121.0676 ]
opinion.service db insert {
  opinionType: 'upvote',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  author: '5fbb52979ec81978f200e7e7',
  postAuthorOpinion: true
}
PubSub {
  request: Request {
    id: '1606405511894',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'OPINION_CREATED',
  data: {
    opinionType: 'upvote',
    postAuthorOpinion: true,
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z,
    __v: 0
  }
}
opinionCreated {
  opinionType: 'upvote',
  postAuthorOpinion: true,
  _id: 5fbfcd881a28804352da7096,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd881a28804352da7097,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:45:12.014Z,
  __v: 0
} postId 5fbfc35293e1dc3f2ce5dd7c
updateStat 5fbfc35293e1dc3f2ce5dd7c [
  { property: 'upvoteCount', increase: 1 },
  { property: 'score', increase: 1 }
]
opinionCreated {
  opinionType: 'upvote',
  postAuthorOpinion: true,
  _id: 5fbfcd881a28804352da7096,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd881a28804352da7097,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: 'none',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:45:12.014Z,
  __v: 0
} commentId none
updateStat none [
  { property: 'upvoteCount', increase: 1 },
  { property: 'score', increase: 1 }
]
opinion.service published message
::1 POST / 125MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512079',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512080',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512082',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512083',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512084',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512086',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512079',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.193
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512079',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.395
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405512079',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.395
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512086',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.197
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512086',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.391
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405512086',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.391
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512084',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.199
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512084',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.389
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405512084',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.389
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512080',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.201
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512080',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.387
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405512080',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.387
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512082',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.202
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512082',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.386
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512083',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.205
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512083',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.384
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405512083',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.384
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405512082',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.386
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
PubSub {
  request: Request {
    id: '1606405512079',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606405512086',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 138MS
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606405512080',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 143MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512230',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 147MS
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 35,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 33,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 162MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512242',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 165MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 35,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 169MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512265',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512303',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512314',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512230',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.353
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512230',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.235
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405512230',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.235
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 132MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512242',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.364
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512242',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.224
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606405512242',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.224
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img ' +
        'src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 134MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512265',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.378
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512265',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.21
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405512265',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.21
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405512265',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512396',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 134MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405512404',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512303',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.414
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512303',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.175
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405512303',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.175
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 125MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512314',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.43
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512314',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.159
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405512314',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.159
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405512314',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 128MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512404',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.511
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512404',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.078
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405512396',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405512.513
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606405517589,
  isConfirmed: true,
  iat: 1606405487,
  exp: 1606405517
}
middleware requestProcessor almost done Request {
  id: '1606405512396',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.076
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606405512404',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.078
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606405512396',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 1606405517589,
      isExpired: false,
      secondsToExpiry: 5.076
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606405512404',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606405512396',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 130MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 140MS
logger version v1
::1 POST /api/v1/post/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606405517125',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606405517125',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405517.241
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606405517125',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405517.241
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606405517125',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606405517.241
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { isDeleted: false } { lastModifiedAt: -1 } [
  'author',
  'content.title',
  'content.tags',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt',
  'threadLastUpdatedAt'
] 5 1
{ isDeleted: false } 5 1
[
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z'
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc48d63959d3fb29ceb40',
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfb91a5287e43a37a501f0'
    },
    _id: '5fbfb91a5287e43a37a501f1',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T14:18:02.373Z',
    lastModifiedAt: '2020-11-26T15:06:53.528Z',
    threadLastUpdatedAt: '2020-11-26T14:18:02.373Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 128MS
logger version v1
::1 GET /api/v1/user/me {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606406010369',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY
middleware requestProcessor Request {
  id: '1606406010369',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606406010.487
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606406010369',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606406010.487
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606406010369',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNTUxNzU4OSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNTQ4NywiZXhwIjoxNjA2NDA1NTE3fQ.oeqZZ9YSpEsYs3-ooukO0pMgfy3hACytv_pZBWKTwSY',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606406010.487
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ 403
::1 GET /me 119MS
logger version v1
::1 GET /api/v1/auth/access_token {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606406010500',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Refresh ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
middleware requestProcessor Request {
  id: '1606406010500',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606406010.608
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
getActiveRefreshTokenCount tokenValue eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc
getActiveRefreshTokenCount {
  '$and': [
    {
      'refreshToken.value': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc'
    },
    { 'refreshToken.expiryTime': [Object] }
  ]
}
getActiveRefreshTokenCount 1
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1608996280413,
  isConfirmed: true,
  iat: 1606404280,
  exp: 1608996280
}
middleware requestProcessor almost done Request {
  id: '1606406010500',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2590269.793
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606406010500',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwODk5NjI4MDQxMywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNDI4MCwiZXhwIjoxNjA4OTk2MjgwfQ.yayh_rJXB3Q0rx72XGQtJ5-j7Uxxe1EJJLPstqJm1cc',
      expiryTime: 1608996280413,
      isExpired: false,
      secondsToExpiry: 2590269.793
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
::1 GET /access_token 121MS
logger version v1
::1 GET /api/v1/user/me {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606406010630',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606406010630',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606406010.739
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606406040620,
  isConfirmed: true,
  iat: 1606406010,
  exp: 1606406040
}
middleware requestProcessor almost done Request {
  id: '1606406010630',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 1606406040620,
      isExpired: false,
      secondsToExpiry: 29.881
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606406010630',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 1606406040620,
      isExpired: false,
      secondsToExpiry: 29.881
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
request : Request {
  id: '1606406010630',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 1606406040620,
      isExpired: false,
      secondsToExpiry: 29.881
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
::1 GET /me 113MS
logger version v1
::1 POST /api/v1/post/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408338420',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408338420',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408338.543
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408338420',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408338.543
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408338420',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408338.543
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { isDeleted: false } { lastModifiedAt: -1 } [
  'author',
  'content.title',
  'content.tags',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt',
  'threadLastUpdatedAt'
] 5 1
{ isDeleted: false } 5 1
[
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    firstName: 'Nihal',
    lastName: 'Konda',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 36,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z'
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc48d63959d3fb29ceb40',
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfb91a5287e43a37a501f0'
    },
    _id: '5fbfb91a5287e43a37a501f1',
    author: {
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      firstName: 'Nihal',
      lastName: 'Konda',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T14:18:02.373Z',
    lastModifiedAt: '2020-11-26T15:06:53.528Z',
    threadLastUpdatedAt: '2020-11-26T14:18:02.373Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 140MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*t.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408355275',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408355275',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408355.386
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408355275',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408355.386
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408355275',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408355.386
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*t.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*t.*' } } 5 1
[]
::1 POST /search?pageSize=5&pageNum=1 116MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408365962',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408365962',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408366.074
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408365962',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408366.074
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408365962',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408366.074
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 121MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fu.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408369837',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408369837',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408369.953
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408369837',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408369.953
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408369837',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408369.953
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fu.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fu.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 121MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fun.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408370855',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408370855',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408370.964
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408370855',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408370.964
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408370855',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408370.964
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fun.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fun.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 117MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funn.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408371826',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '100',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408371826',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408371.941
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408371826',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408371.941
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408371826',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408371.941
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funn.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funn.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funny.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408373584',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '101',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408373584',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408373.699
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408373584',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408373.699
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408373584',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408373.699
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funny.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funny.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funny .*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408374687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '102',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408374687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408374.796
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408374687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408374.796
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408374687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408374.796
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funny .*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funny .*' } } 5 1
[
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 115MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funny g.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408377416',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '103',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408377416',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408377.53
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408377416',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408377.53
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408377416',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408377.53
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funny g.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funny g.*' } } 5 1
[
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funny .*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408378756',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '102',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408378756',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408378.865
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408378756',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408378.865
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408378756',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408378.865
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funny .*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funny .*' } } 5 1
[
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 114MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funny.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408379039',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '101',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408379039',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.148
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408379039',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.148
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408379039',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.148
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funny.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funny.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 116MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funn.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408379181',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '100',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408379181',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.293
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408379181',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.293
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408379181',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.293
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funn.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funn.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 116MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fun.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408379361',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408379361',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.47
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408379361',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.47
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408379361',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.47
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fun.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fun.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 114MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fu.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408379492',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408379492',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.602
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408379492',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.602
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408379492',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.602
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fu.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fu.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 116MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408379687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408379687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.795
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408379687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.795
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408379687',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408379.795
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 113MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*m.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408411112',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408411112',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408411.225
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408411112',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408411.225
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408411112',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408411.225
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*m.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*m.*' } } 5 1
[ { count: 2, _id: 5fbfc48deac78f43a285f91b, tag: 'meme', __v: 0 } ]
::1 POST /search?pageSize=5&pageNum=1 116MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*m.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408485332',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408485332',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408485.448
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408485332',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408485.448
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408485332',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408485.448
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*m.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*m.*' } } 5 1
[ { count: 2, _id: 5fbfc48deac78f43a285f91b, tag: 'meme', __v: 0 } ]
::1 POST /search?pageSize=5&pageNum=1 130MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408503437',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408503437',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408503.551
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408503437',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408503.551
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408503437',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408503.551
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fu.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408505077',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408505077',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408505.185
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408505077',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408505.185
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408505077',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408505.185
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fu.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fu.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 113MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408539566',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408539566',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408539.678
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408539566',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408539.678
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408539566',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408539.678
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 117MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fu.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408540571',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408540571',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408540.687
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408540571',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408540.687
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408540571',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408540.687
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fu.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fu.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 122MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408544262',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408544262',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408544.378
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408544262',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408544.378
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408544262',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408544.378
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 120MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*m.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408547829',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606408547829',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408547.946
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606408547829',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408547.946
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606408547829',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606408547.946
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*m.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*m.*' } } 5 1
[ { count: 2, _id: 5fbfc48deac78f43a285f91b, tag: 'meme', __v: 0 } ]
::1 POST /search?pageSize=5&pageNum=1 132MS
logger version v1
::1 GET /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408573076',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'upgrade-insecure-requests': '1',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  accept: 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9',
  'sec-fetch-site': 'none',
  'sec-fetch-mode': 'navigate',
  'sec-fetch-dest': 'document',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
undefined
Cannot read property 'split' of undefined
middleware requestProcessor Request {
  id: '1606408573076',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { pageSize: '5', pageNum: '1' }, params: {} },
  hasToken: false
}
middleware requestProcessor almost done Request {
  id: '1606408573076',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { pageSize: '5', pageNum: '1' }, params: {} },
  hasToken: false
}
AMJ Request {
  id: '1606408573076',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { pageSize: '5', pageNum: '1' }, params: {} },
  hasToken: false
}
AMJ done
base.repository  search
CastError: Cast to ObjectId failed for value "search" at path "_id" for model "Tag"
    at model.Query.exec (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:4368:21)
    at model.Query.Query.then (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:4460:15)
    at processTicksAndRejections (internal/process/task_queues.js:89:5) {
  messageFormat: undefined,
  stringValue: '"search"',
  kind: 'ObjectId',
  value: 'search',
  path: '_id',
  reason: Error: Argument passed in must be a single String of 12 bytes or a string of 24 hex characters
      at new ObjectID (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/bson/lib/bson/objectid.js:59:11)
      at castObjectId (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/cast/objectid.js:25:12)
      at ObjectId.cast (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schema/objectid.js:267:12)
      at ObjectId.SchemaType.applySetters (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1072:12)
      at ObjectId.SchemaType._castForQuery (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1507:15)
      at ObjectId.SchemaType.castForQuery (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1497:15)
      at ObjectId.SchemaType.castForQueryWrapper (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1474:20)
      at cast (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/cast.js:331:32)
      at model.Query.Query.cast (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:4769:12)
      at model.Query.Query._castConditions (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:1869:10)
      at model.Query.<anonymous> (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:2126:8)
      at model.Query._wrappedThunk [as _findOne] (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
      at /Users/appleapple/cmpe280/isitjustme-node-app/node_modules/kareem/index.js:369:33
      at processTicksAndRejections (internal/process/task_queues.js:82:9)
}
::1 GET /search?pageSize=5&pageNum=1 125MS
logger version v1
::1 GET /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606408573299',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  accept: 'text/css,*/*;q=0.1',
  'sec-fetch-site': 'same-origin',
  'sec-fetch-mode': 'no-cors',
  'sec-fetch-dest': 'style',
  referer: 'http://localhost:5000/api/v1/tag/search?pageSize=5&pageNum=1',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
undefined
Cannot read property 'split' of undefined
middleware requestProcessor Request {
  id: '1606408573299',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { pageSize: '5', pageNum: '1' }, params: {} },
  hasToken: false
}
middleware requestProcessor almost done Request {
  id: '1606408573299',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { pageSize: '5', pageNum: '1' }, params: {} },
  hasToken: false
}
AMJ Request {
  id: '1606408573299',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { pageSize: '5', pageNum: '1' }, params: {} },
  hasToken: false
}
AMJ done
base.repository  search
CastError: Cast to ObjectId failed for value "search" at path "_id" for model "Tag"
    at model.Query.exec (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:4368:21)
    at model.Query.Query.then (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:4460:15)
    at processTicksAndRejections (internal/process/task_queues.js:89:5) {
  messageFormat: undefined,
  stringValue: '"search"',
  kind: 'ObjectId',
  value: 'search',
  path: '_id',
  reason: Error: Argument passed in must be a single String of 12 bytes or a string of 24 hex characters
      at new ObjectID (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/bson/lib/bson/objectid.js:59:11)
      at castObjectId (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/cast/objectid.js:25:12)
      at ObjectId.cast (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schema/objectid.js:267:12)
      at ObjectId.SchemaType.applySetters (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1072:12)
      at ObjectId.SchemaType._castForQuery (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1507:15)
      at ObjectId.SchemaType.castForQuery (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1497:15)
      at ObjectId.SchemaType.castForQueryWrapper (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/schematype.js:1474:20)
      at cast (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/cast.js:331:32)
      at model.Query.Query.cast (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:4769:12)
      at model.Query.Query._castConditions (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:1869:10)
      at model.Query.<anonymous> (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/query.js:2126:8)
      at model.Query._wrappedThunk [as _findOne] (/Users/appleapple/cmpe280/isitjustme-node-app/node_modules/mongoose/lib/helpers/query/wrapThunk.js:16:8)
      at /Users/appleapple/cmpe280/isitjustme-node-app/node_modules/kareem/index.js:369:33
      at processTicksAndRejections (internal/process/task_queues.js:82:9)
}
::1 GET /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409242705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409242705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409242.827
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409242705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409242.827
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409242705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409242.827
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 135MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fu.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409243538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409243538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409243.652
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409243538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409243.652
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409243538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409243.652
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fu.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fu.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fun.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409244466',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409244466',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409244.581
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409244466',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409244.581
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409244466',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409244.581
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fun.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fun.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 122MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fu.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409247594',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409247594',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409247.713
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409247594',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409247.713
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409247594',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409247.713
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fu.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fu.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 124MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409248168',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409248168',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409248.281
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409248168',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409248.281
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409248168',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409248.281
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 120MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*f.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409319569',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '97',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409319569',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409319.681
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409319569',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409319.681
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409319569',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409319.681
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*f.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*f.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 117MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*fu.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409319738',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409319738',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409319.852
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409319738',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409319.852
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409319738',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409319.852
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*fu.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*fu.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 119MS
logger version v1
::1 POST /api/v1/tag/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { tag: { '$regex': '.*funny.*' } },
  sort: { count: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606409322093',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '101',
  pragma: 'no-cache',
  'cache-control': 'no-cache',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access ' +
    'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) ' +
    'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 ' +
    'Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8
middleware requestProcessor Request {
  id: '1606409322093',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409322.202
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606409322093',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409322.202
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606409322093',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQwNjA0MDYyMCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQwNjAxMCwiZXhwIjoxNjA2NDA2MDQwfQ.VH6jKRiXFxFQsKvolL04C4CITjlpCXKzdCwx1ACowm8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606409322.202
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { tag: { '$regex': '.*funny.*' } } { count: -1 } [] 5 1
{ tag: { '$regex': '.*funny.*' } } 5 1
[
  { count: 1, _id: 5fbfc48deac78f43a285f91d, tag: 'funny', __v: 0 },
  { count: 1, _id: 5fbfc4afeac78f43a285f949, tag: 'funny guy', __v: 0 },
  { count: 1, _id: 5fbfc48deac78f43a285f91f, tag: 'funny kid', __v: 0 }
]
::1 POST /search?pageSize=5&pageNum=1 114MS
