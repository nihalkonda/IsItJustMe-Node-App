
> isitjustme-node-app@1.0.0 start
> nodemon -x ts-node ./src/index.ts

[33m[nodemon] 2.0.4[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: ts,json[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
logger version v1
::1 GET /api/v1/user/me {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896003611',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQ1MTQyMzk3NSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ1MTM5MywiZXhwIjoxNjA2NDUxNDIzfQ.j1Bg6z1jDep_UziPU7fWCHjAl9c5fP2Z8K4ii5jwbx8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"121-Ceu8xFZf4kW8vvKmp0/CwqAJ84A"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQ1MTQyMzk3NSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ1MTM5MywiZXhwIjoxNjA2NDUxNDIzfQ.j1Bg6z1jDep_UziPU7fWCHjAl9c5fP2Z8K4ii5jwbx8
middleware requestProcessor Request {
  id: '1606896003611',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQ1MTQyMzk3NSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ1MTM5MywiZXhwIjoxNjA2NDUxNDIzfQ.j1Bg6z1jDep_UziPU7fWCHjAl9c5fP2Z8K4ii5jwbx8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896003.824
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896003611',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQ1MTQyMzk3NSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ1MTM5MywiZXhwIjoxNjA2NDUxNDIzfQ.j1Bg6z1jDep_UziPU7fWCHjAl9c5fP2Z8K4ii5jwbx8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896003.824
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896003611',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjQ1MTQyMzk3NSwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ1MTM5MywiZXhwIjoxNjA2NDUxNDIzfQ.j1Bg6z1jDep_UziPU7fWCHjAl9c5fP2Z8K4ii5jwbx8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896003.824
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ 403
::1 GET /me 219MS
logger version v1
::1 GET /api/v1/auth/access_token {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896003841',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8
middleware requestProcessor Request {
  id: '1606896003841',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896003.954
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
getActiveRefreshTokenCount tokenValue eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8
getActiveRefreshTokenCount {
  '$and': [
    {
      'refreshToken.value': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8'
    },
    { 'refreshToken.expiryTime': [Object] }
  ]
}
getActiveRefreshTokenCount 1
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1609033626944,
  isConfirmed: true,
  iat: 1606441626,
  exp: 1609033626
}
middleware requestProcessor almost done Request {
  id: '1606896003841',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
      expiryTime: 1609033626944,
      isExpired: false,
      secondsToExpiry: 2137622.975
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896003841',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
      expiryTime: 1609033626944,
      isExpired: false,
      secondsToExpiry: 2137622.975
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
::1 GET /access_token 131MS
logger version v1
::1 GET /api/v1/user/me {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896003982',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896003982',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896004.094
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896003982',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 29.875
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896003982',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 29.875
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
request : Request {
  id: '1606896003982',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 29.875
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
::1 GET /me 129MS
logger version v1
::1 POST /api/v1/post/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896007236',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896007236',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896007.347
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896007236',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 26.623
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606896007236',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 26.623
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { isDeleted: false } { lastModifiedAt: -1 } [
  'author',
  'content.title',
  'content.tags',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt',
  'threadLastUpdatedAt'
] 5 1
{ isDeleted: false } 5 1
[
  {
    content: { tags: [Array], title: 'Who is this girl?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc05cdaaa5255656aee25ff,
      raw: [Object]
    },
    stats: {
      viewCount: 12,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 3,
      _id: 5fc05c28aa5255656aee25cb
    },
    _id: 5fc05c28aa5255656aee25cc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-27T01:53:44.246Z,
    lastModifiedAt: 2020-11-27T01:56:42.700Z,
    threadLastUpdatedAt: 2020-11-27T01:53:44.246Z
  },
  {
    content: { tags: [Array], title: 'What is this meme?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc0011daa5255656aee24d2,
      raw: [Object]
    },
    stats: {
      viewCount: 4,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fc00102aa5255656aee24bb
    },
    _id: 5fc00102aa5255656aee24bc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T19:24:50.529Z,
    lastModifiedAt: 2020-11-26T19:25:17.229Z,
    threadLastUpdatedAt: 2020-11-26T19:24:50.529Z
  },
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this girl?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc05cdaaa5255656aee25ff,
      raw: [Object]
    },
    stats: {
      viewCount: 12,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 3,
      _id: 5fc05c28aa5255656aee25cb
    },
    _id: 5fc05c28aa5255656aee25cc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-27T01:53:44.246Z,
    lastModifiedAt: 2020-11-27T01:56:42.700Z,
    threadLastUpdatedAt: 2020-11-27T01:53:44.246Z
  },
  {
    content: { tags: [Array], title: 'What is this meme?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc0011daa5255656aee24d2,
      raw: [Object]
    },
    stats: {
      viewCount: 4,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fc00102aa5255656aee24bb
    },
    _id: 5fc00102aa5255656aee24bc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T19:24:50.529Z,
    lastModifiedAt: 2020-11-26T19:25:17.229Z,
    threadLastUpdatedAt: 2020-11-26T19:24:50.529Z
  },
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this girl?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fc05cdaaa5255656aee25ff',
      raw: [Object]
    },
    stats: {
      viewCount: 12,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 3,
      _id: '5fc05c28aa5255656aee25cb'
    },
    _id: '5fc05c28aa5255656aee25cc',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-27T01:53:44.246Z',
    lastModifiedAt: '2020-11-27T01:56:42.700Z',
    threadLastUpdatedAt: '2020-11-27T01:53:44.246Z'
  },
  {
    content: { tags: [Array], title: 'What is this meme?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fc0011daa5255656aee24d2',
      raw: [Object]
    },
    stats: {
      viewCount: 4,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fc00102aa5255656aee24bb'
    },
    _id: '5fc00102aa5255656aee24bc',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T19:24:50.529Z',
    lastModifiedAt: '2020-11-26T19:25:17.229Z',
    threadLastUpdatedAt: '2020-11-26T19:24:50.529Z'
  },
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z'
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc48d63959d3fb29ceb40',
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfb91a5287e43a37a501f0'
    },
    _id: '5fbfb91a5287e43a37a501f1',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T14:18:02.373Z',
    lastModifiedAt: '2020-11-26T15:06:53.528Z',
    threadLastUpdatedAt: '2020-11-26T14:18:02.373Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 140MS
logger version v1
::1 GET /api/v1/post/5fc00102aa5255656aee24bc?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896009699',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896009699',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896009.82
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896009699',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 24.149
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896009699',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 24.149
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fc00102aa5255656aee24bc' }
  },
  hasToken: true
}
AMJ done
base.repository  5fc00102aa5255656aee24bc
base.repository  5fc00102aa5255656aee24bc
PubSub {
  request: Request {
    id: '1606896009699',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'What is this meme?',
      body: '<p>Whatttttt?</p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc0011daa5255656aee24d2,
      raw: [Object]
    },
    stats: {
      viewCount: 4,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fc00102aa5255656aee24bb
    },
    _id: 5fc00102aa5255656aee24bc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T19:24:50.529Z,
    lastModifiedAt: 2020-11-26T19:25:17.229Z,
    threadLastUpdatedAt: 2020-11-26T19:24:50.529Z,
    __v: 0
  }
}
updateStat 5fc00102aa5255656aee24bc [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'What is this meme?',
      body: '<p>Whatttttt?</p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc0011daa5255656aee24d2,
      raw: [Object]
    },
    stats: {
      viewCount: 4,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fc00102aa5255656aee24bb
    },
    _id: 5fc00102aa5255656aee24bc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T19:24:50.529Z,
    lastModifiedAt: 2020-11-26T19:25:17.229Z,
    threadLastUpdatedAt: 2020-11-26T19:24:50.529Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'What is this meme?',
      body: '<p>Whatttttt?</p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fc0011daa5255656aee24d2',
      raw: [Object]
    },
    stats: {
      viewCount: 4,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fc00102aa5255656aee24bb'
    },
    _id: '5fc00102aa5255656aee24bc',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T19:24:50.529Z',
    lastModifiedAt: '2020-11-26T19:25:17.229Z',
    threadLastUpdatedAt: '2020-11-26T19:24:50.529Z',
    __v: 0
  }
]
::1 GET /5fc00102aa5255656aee24bc?full=true 143MS
logger version v1
::1 POST /api/v1/post/5fc00102aa5255656aee24bc/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896009892',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fc00102aa5255656aee24bc/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896009895',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896009892',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896010.011
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896009892',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 23.958
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fc00102aa5255656aee24bc
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896009895',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896010.015
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896009895',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 23.955
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fc00102aa5255656aee24bc
AMJ Request {
  id: '1606896009892',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 23.958
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fc00102aa5255656aee24bc' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fc00102aa5255656aee24bc', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fc00102aa5255656aee24bc', commentId: 'none' }
  ]
} 5 1
AMJ Request {
  id: '1606896009895',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 23.955
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fc00102aa5255656aee24bc' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fc00102aa5255656aee24bc' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fc00102aa5255656aee24bc' } ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 145MS
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 143MS
logger version v1
::1 POST /api/v1/post/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896020585',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896020585',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896020.696
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896020585',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 13.273
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ Request {
  id: '1606896020585',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 13.273
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
AMJ done
base.repository { isDeleted: false } { lastModifiedAt: -1 } [
  'author',
  'content.title',
  'content.tags',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt',
  'threadLastUpdatedAt'
] 5 1
{ isDeleted: false } 5 1
[
  {
    content: { tags: [Array], title: 'Who is this girl?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc05cdaaa5255656aee25ff,
      raw: [Object]
    },
    stats: {
      viewCount: 12,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 3,
      _id: 5fc05c28aa5255656aee25cb
    },
    _id: 5fc05c28aa5255656aee25cc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-27T01:53:44.246Z,
    lastModifiedAt: 2020-11-27T01:56:42.700Z,
    threadLastUpdatedAt: 2020-11-27T01:53:44.246Z
  },
  {
    content: { tags: [Array], title: 'What is this meme?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc0011daa5255656aee24d2,
      raw: [Object]
    },
    stats: {
      viewCount: 5,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fc00102aa5255656aee24bb
    },
    _id: 5fc00102aa5255656aee24bc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T19:24:50.529Z,
    lastModifiedAt: 2020-11-26T19:25:17.229Z,
    threadLastUpdatedAt: 2020-11-26T19:24:50.529Z
  },
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this girl?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc05cdaaa5255656aee25ff,
      raw: [Object]
    },
    stats: {
      viewCount: 12,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 3,
      _id: 5fc05c28aa5255656aee25cb
    },
    _id: 5fc05c28aa5255656aee25cc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-27T01:53:44.246Z,
    lastModifiedAt: 2020-11-27T01:56:42.700Z,
    threadLastUpdatedAt: 2020-11-27T01:53:44.246Z
  },
  {
    content: { tags: [Array], title: 'What is this meme?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc0011daa5255656aee24d2,
      raw: [Object]
    },
    stats: {
      viewCount: 5,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fc00102aa5255656aee24bb
    },
    _id: 5fc00102aa5255656aee24bc,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T19:24:50.529Z,
    lastModifiedAt: 2020-11-26T19:25:17.229Z,
    threadLastUpdatedAt: 2020-11-26T19:24:50.529Z
  },
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc48d63959d3fb29ceb40,
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfb91a5287e43a37a501f0
    },
    _id: 5fbfb91a5287e43a37a501f1,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T14:18:02.373Z,
    lastModifiedAt: 2020-11-26T15:06:53.528Z,
    threadLastUpdatedAt: 2020-11-26T14:18:02.373Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: { tags: [Array], title: 'Who is this girl?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fc05cdaaa5255656aee25ff',
      raw: [Object]
    },
    stats: {
      viewCount: 12,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 3,
      _id: '5fc05c28aa5255656aee25cb'
    },
    _id: '5fc05c28aa5255656aee25cc',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-27T01:53:44.246Z',
    lastModifiedAt: '2020-11-27T01:56:42.700Z',
    threadLastUpdatedAt: '2020-11-27T01:53:44.246Z'
  },
  {
    content: { tags: [Array], title: 'What is this meme?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fc0011daa5255656aee24d2',
      raw: [Object]
    },
    stats: {
      viewCount: 5,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fc00102aa5255656aee24bb'
    },
    _id: '5fc00102aa5255656aee24bc',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T19:24:50.529Z',
    lastModifiedAt: '2020-11-26T19:25:17.229Z',
    threadLastUpdatedAt: '2020-11-26T19:24:50.529Z'
  },
  {
    content: { tags: [Array], title: 'Who is this guy?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z'
  },
  {
    content: { tags: [Array], title: 'Who is this kid?' },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc48d63959d3fb29ceb40',
      raw: [Object]
    },
    stats: {
      viewCount: 25,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfb91a5287e43a37a501f0'
    },
    _id: '5fbfb91a5287e43a37a501f1',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T14:18:02.373Z',
    lastModifiedAt: '2020-11-26T15:06:53.528Z',
    threadLastUpdatedAt: '2020-11-26T14:18:02.373Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 133MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896022449',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896022449',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896022.562
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896022449',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 11.408
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896022449',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 11.408
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896022449',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 41,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 128MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896022638',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896022640',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896022638',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896022.75
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896022638',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 11.219
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896022638',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 11.219
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896022640',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896022.755
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896022640',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 11.215
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896022640',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 11.215
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 129MS
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 136MS
logger version v1
::1 GET /api/v1/user/5fbb52979ec81978f200e7e7 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896027715',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896027717',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896027717',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896027.824
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896027717',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 6.146
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896027717',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 6.146
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896027715',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896027.828
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896027715',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 6.142
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896027715',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 6.142
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ done
request : Request {
  id: '1606896027715',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 6.142
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
UserRepository getUserByUserId 5fbb52979ec81978f200e7e7
base.repository  5fbfc35293e1dc3f2ce5dd7c
::1 GET /5fbb52979ec81978f200e7e7 119MS
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 42,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 42,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 121MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896027849',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896027849',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896027.968
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896027849',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 6.002
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896027849',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 6.002
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606896027849',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 131MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896028000',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896028000',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896028.116
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896033970,
  isConfirmed: true,
  iat: 1606896003,
  exp: 1606896033
}
middleware requestProcessor almost done Request {
  id: '1606896028000',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 5.854
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606896028000',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 1606896033970,
      isExpired: false,
      secondsToExpiry: 5.854
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 122MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896090532',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-9H90CCpx4ILhvr8QIg0CzZKFX+0"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896090532',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.645
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896090532',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.645
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896090532',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.645
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896090532',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 42,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 42,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 42,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 128MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896090705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896090708',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896090705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.821
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896090705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.821
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896090708',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.826
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896090708',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.826
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896090705',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.821
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
AMJ Request {
  id: '1606896090708',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896090.826
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 137MS
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 145MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896092538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-fkWzIG2Zhue2U184r1ASS4S+zRw"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896092538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896092.656
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896092538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896092.656
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896092538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896092.656
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896092538',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 43,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 43,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 43,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 131MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896092957',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896092961',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896092961',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896093.069
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896092961',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896093.069
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896092961',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896093.069
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 134MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896092957',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896093.108
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896092957',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896093.108
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896092957',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896093.108
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 165MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896248439',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-VXC6pJl4k4WktqCoSqRU1yk74AY"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896248439',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.666
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896248439',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.666
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896248439',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.666
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896248439',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 44,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 44,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 44,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 254MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896248816',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896248818',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896248816',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.942
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896248816',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.942
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896248818',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.948
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896248818',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.948
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896248816',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.942
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
AMJ Request {
  id: '1606896248818',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896248.948
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 151MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 151MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896256213',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-bgXZkjFl4bgWuH9BR1sn3YOmLGI"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896256213',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.327
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896256213',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.327
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896256213',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.327
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896256213',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 45,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 45,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 45,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 128MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896256612',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896256616',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896256616',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.73
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896256616',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.73
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896256612',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.737
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896256612',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.737
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896256616',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.73
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
AMJ Request {
  id: '1606896256612',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896256.737
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 144MS
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 157MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896301015',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-jtqgL6RtMoQ4dil591kgJfIHNwY"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896301015',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.131
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896301015',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.131
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896301015',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.131
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896301015',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 46,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 46,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 46,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 128MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896301323',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896301329',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896301323',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.442
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896301323',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.442
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896301329',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.445
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896301329',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.445
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896301323',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.442
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
AMJ Request {
  id: '1606896301329',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896301.445
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 142MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 150MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896330506',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-sHnTiIDxrnHml8bJVMREI9du3R4"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896330506',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896330.754
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896330506',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896330.754
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896330506',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896330.754
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896330506',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 47,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 47,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 47,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 260MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896331053',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896331062',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896331053',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896331.166
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896331053',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896331.166
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896331053',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896331.166
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896331062',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896331.174
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896331062',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896331.174
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896331062',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896331.174
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 133MS
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 131MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896353538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-bYbY60TXcW9B0/SdJMLSvXcHxrI"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896353538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.662
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896353538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.662
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896353538',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.662
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896353538',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 48,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 48,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 48,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 140MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896353878',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896353880',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896353878',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.989
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896353878',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.989
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896353878',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.989
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896353880',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.995
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896353880',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.995
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
AMJ Request {
  id: '1606896353880',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896353.995
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 127MS
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 140MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896360806',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-UY8r6qLBeUuVxu4VnS1NlKeQ6LI"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896360806',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896360.921
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896360806',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896360.921
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896360806',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896360.921
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896360806',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 49,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 49,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 49,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 127MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896361028',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896361033',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896361028',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896361.138
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896361028',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896361.138
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896361028',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896361.138
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896361033',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896361.143
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896361033',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896361.143
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896361033',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896361.143
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 128MS
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 129MS
logger version v1
::1 GET /api/v1/user/5fbb52979ec81978f200e7e7 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896375031',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"121-bYmoM2XJTiYbdCwW9fX7yyfcwDo"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896375031',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896375.14
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896375031',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896375.14
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896375031',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896375.14
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ done
request : Request {
  id: '1606896375031',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896375.14
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
UserRepository getUserByUserId 5fbb52979ec81978f200e7e7
::1 GET /5fbb52979ec81978f200e7e7 113MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896378453',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-KHtdLd+2k9RcWWyFdm1ZyGo47j4"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896378453',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.566
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896378453',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.566
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896378453',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.566
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
PubSub {
  request: Request {
    id: '1606896378453',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 50,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 50,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 50,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 123MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896378620',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { isDeleted: false },
  sort: { lastModifiedAt: -1 },
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896378623',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '99',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896378623',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.733
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896378623',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.733
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896378623',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.733
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: [Object],
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} { lastModifiedAt: -1 } [
  'author',
  'postId',
  'content',
  'context',
  'location',
  'status',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [ { isDeleted: false }, { postId: '5fbfc35293e1dc3f2ce5dd7c' } ]
} 5 1
[
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcc8a1a28804352da6f9f,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfcc8a1a28804352da6f9d
    },
    _id: 5fbfcc8a1a28804352da6f9e,
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:40:58.330Z,
    lastModifiedAt: 2020-11-26T15:40:58.330Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z'
  },
  {
    context: 'general',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcc8a1a28804352da6f9f',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfcc8a1a28804352da6f9d'
    },
    _id: '5fbfcc8a1a28804352da6f9e',
    content: '<p>Comment 1</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:40:58.330Z',
    lastModifiedAt: '2020-11-26T15:40:58.330Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 121MS
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896378620',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.768
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896378620',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.768
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896378620',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896378.768
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: { postId: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    { postId: '5fbfc35293e1dc3f2ce5dd7c', commentId: 'none' }
  ]
} 5 1
[
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: 5fbfcd7a1a28804352da704a,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd7a1a28804352da704b,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:44:58.165Z
  },
  {
    opinionType: 'upvote',
    _id: 5fbfcd881a28804352da7096,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd881a28804352da7097,
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:45:12.014Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'follow',
    _id: '5fbfcd7a1a28804352da704a',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd7a1a28804352da704b',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:44:58.165Z'
  },
  {
    opinionType: 'upvote',
    _id: '5fbfcd881a28804352da7096',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd881a28804352da7097',
      raw: [Object]
    },
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: 'none',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:45:12.014Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 157MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896381633',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-fkWzIG2Zhue2U184r1ASS4S+zRw"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896381633',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896381.749
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896381633',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896381.749
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896381633',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896381.749
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 51,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 51,
      followCount: 1,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 3,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 123MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896381769',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"3d6-2AGmF8Q5eHa4pvO+JlkNHS+jaUw"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896381769',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896381.888
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896381769',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896381.888
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896381769',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896381.888
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606896381769',
    user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 0,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 0,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 130MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896381928',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896381928',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896382.038
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896381928',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896382.038
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606896381928',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896382.038
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} 5 1
[]
embedAuthorInformation []
::1 POST /search?pageSize=5&pageNum=1 116MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/ {} { opinionType: 'upvote' }
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896392993',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '24',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU
middleware requestProcessor Request {
  id: '1606896392993',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.103
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: { opinionType: 'upvote' }, query: {}, params: {} },
  hasToken: true
}
middleware requestProcessor almost done Request {
  id: '1606896392993',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.103
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: { opinionType: 'upvote' }, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606896392993',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjAzMzk3MCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjAwMywiZXhwIjoxNjA2ODk2MDMzfQ.NTrEY9EbuFO8yCbHXemFSpUJpWaWTsWPBxoLlsPyKYU',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.103
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'upvote' },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ true
AMJ 403
::1 POST / 115MS
logger version v1
::1 GET /api/v1/auth/access_token {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896393150',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Refresh eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8
middleware requestProcessor Request {
  id: '1606896393150',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.264
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
getActiveRefreshTokenCount tokenValue eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8
getActiveRefreshTokenCount {
  '$and': [
    {
      'refreshToken.value': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8'
    },
    { 'refreshToken.expiryTime': [Object] }
  ]
}
getActiveRefreshTokenCount 1
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1609033626944,
  isConfirmed: true,
  iat: 1606441626,
  exp: 1609033626
}
middleware requestProcessor almost done Request {
  id: '1606896393150',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
      expiryTime: 1609033626944,
      isExpired: false,
      secondsToExpiry: 2137233.677
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896393150',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'refresh',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwOTAzMzYyNjk0NCwiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjQ0MTYyNiwiZXhwIjoxNjA5MDMzNjI2fQ.44UhnZ7kOCSVpM6RgNAClAHDiioj5PcPRKD_z5Z1A_8',
      expiryTime: 1609033626944,
      isExpired: false,
      secondsToExpiry: 2137233.677
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ true
AMJ done
::1 GET /access_token 118MS
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/ {} { opinionType: 'upvote' }
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896393276',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '24',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs
middleware requestProcessor Request {
  id: '1606896393276',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.39
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: { opinionType: 'upvote' }, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896423267,
  isConfirmed: true,
  iat: 1606896393,
  exp: 1606896423
}
middleware requestProcessor almost done Request {
  id: '1606896393276',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.877
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: { opinionType: 'upvote' }, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
AMJ Request {
  id: '1606896393276',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.877
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'upvote' },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ true
AMJ done
validateRequestBody {
  type: 'object',
  additionalProperties: false,
  required: [ 'opinionType' ],
  properties: {
    body: { type: 'string' },
    opinionType: { type: 'string', enum: [Array] },
    location: {
      type: 'object',
      additionalProperties: true,
      required: [Array],
      properties: [Object]
    }
  }
}
opinion.service Request {
  id: '1606896393276',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.877
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: { opinionType: 'upvote' },
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
} { opinionType: 'upvote' }
base.repository  5fbfc35293e1dc3f2ce5dd7c
AuthorService checkIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 51,
    followCount: 1,
    upvoteCount: 1,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 1,
    score: 3,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
comment.service create postIdExists {
  content: {
    tags: [ 'meme', 'funny guy' ],
    title: 'Who is this guy?',
    body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
  },
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfc4af63959d3fb29ceb69,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 51,
    followCount: 1,
    upvoteCount: 1,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 2,
    updateCount: 0,
    resolveCount: 1,
    score: 3,
    _id: 5fbfc35293e1dc3f2ce5dd7b
  },
  _id: 5fbfc35293e1dc3f2ce5dd7c,
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:01:38.097Z,
  lastModifiedAt: 2020-11-26T15:07:27.432Z,
  threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
  __v: 0
}
base.repository  5fbfccf61a28804352da6fb6
AuthorService checkIdExists {
  context: 'resolve',
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd6f1a28804352da7025,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 0,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfccf61a28804352da6fb5
  },
  _id: 5fbfccf61a28804352da6fb6,
  content: '<p>Comment 2</p>',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:42:46.242Z,
  lastModifiedAt: 2020-11-26T15:42:46.242Z,
  __v: 0
}
comment.service create commentIdExists {
  context: 'resolve',
  isDeleted: false,
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fbfcd6f1a28804352da7025,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  stats: {
    viewCount: 0,
    followCount: 0,
    upvoteCount: 0,
    downvoteCount: 0,
    spamreportCount: 0,
    commentCount: 0,
    updateCount: 0,
    resolveCount: 0,
    score: 0,
    _id: 5fbfccf61a28804352da6fb5
  },
  _id: 5fbfccf61a28804352da6fb6,
  content: '<p>Comment 2</p>',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-11-26T15:42:46.242Z,
  lastModifiedAt: 2020-11-26T15:42:46.242Z,
  __v: 0
}
base.repository {
  author: '5fbb52979ec81978f200e7e7',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: '5fbfccf61a28804352da6fb6'
} {} [] 100 1
{
  author: '5fbb52979ec81978f200e7e7',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: '5fbfccf61a28804352da6fb6'
} 100 1
[]
normalizeJson {
  opinionType: 'upvote',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: '5fbfccf61a28804352da6fb6',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  postAuthorOpinion: true
}
normalizeJson {
  latitude: 38.6841,
  longitude: -121.0676,
  raw: {
    range: [ 393737216, 393738239 ],
    country: 'US',
    region: 'CA',
    eu: '0',
    timezone: 'America/Los_Angeles',
    city: 'El Dorado Hills',
    ll: [ 38.6841, -121.0676 ],
    metro: 862,
    area: 10
  }
}
normalizeJson {
  range: [ 393737216, 393738239 ],
  country: 'US',
  region: 'CA',
  eu: '0',
  timezone: 'America/Los_Angeles',
  city: 'El Dorado Hills',
  ll: [ 38.6841, -121.0676 ],
  metro: 862,
  area: 10
}
normalizeJson [ 393737216, 393738239 ]
normalizeJson [ 38.6841, -121.0676 ]
opinion.service db insert {
  opinionType: 'upvote',
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: '5fbfccf61a28804352da6fb6',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  postAuthorOpinion: true
}
PubSub {
  request: Request {
    id: '1606896393276',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: [Object], query: {}, params: [Object] },
    hasToken: true
  },
  type: 'OPINION_CREATED',
  data: {
    opinionType: 'upvote',
    postAuthorOpinion: true,
    _id: 5fc74b09829c00d8e0a87c88,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: '5fbfccf61a28804352da6fb6',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc74b09829c00d8e0a87c89,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-12-02T08:06:33.413Z,
    __v: 0
  }
}
opinionCreated {
  opinionType: 'upvote',
  postAuthorOpinion: true,
  _id: 5fc74b09829c00d8e0a87c88,
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: '5fbfccf61a28804352da6fb6',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fc74b09829c00d8e0a87c89,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-12-02T08:06:33.413Z,
  __v: 0
} postId 5fbfc35293e1dc3f2ce5dd7c
updateStat 5fbfc35293e1dc3f2ce5dd7c [
  { property: 'upvoteCount', increase: 1 },
  { property: 'score', increase: 1 }
]
opinionCreated {
  opinionType: 'upvote',
  postAuthorOpinion: true,
  _id: 5fc74b09829c00d8e0a87c88,
  postId: '5fbfc35293e1dc3f2ce5dd7c',
  commentId: '5fbfccf61a28804352da6fb6',
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    _id: 5fc74b09829c00d8e0a87c89,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  author: '5fbb52979ec81978f200e7e7',
  createdAt: 2020-12-02T08:06:33.413Z,
  __v: 0
} commentId 5fbfccf61a28804352da6fb6
updateStat 5fbfccf61a28804352da6fb6 [
  { property: 'upvoteCount', increase: 1 },
  { property: 'score', increase: 1 }
]
opinion.service published message
::1 POST / 151MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896393454',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-GJ8Z9lD0ayv48A1wFS8mqHMzcfM"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 POST /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6/opinion/search?pageSize=5&pageNum=1 { pageSize: '5', pageNum: '1' } {
  query: { author: '5fbb52979ec81978f200e7e7' },
  sort: {},
  attributes: [],
  pageNum: 1,
  pageSize: 5
}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896393457',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  'content-length': '98',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  'content-type': 'application/json',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896393458',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-Wnx5f3kAWr7Aq6/L/d26cut23ok"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs
middleware requestProcessor Request {
  id: '1606896393458',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.582
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896423267,
  isConfirmed: true,
  iat: 1606896393,
  exp: 1606896423
}
middleware requestProcessor almost done Request {
  id: '1606896393458',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.685
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896393458',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.685
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: { id: '5fbfc35293e1dc3f2ce5dd7c' } },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs
middleware requestProcessor Request {
  id: '1606896393454',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.583
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896423267,
  isConfirmed: true,
  iat: 1606896393,
  exp: 1606896423
}
middleware requestProcessor almost done Request {
  id: '1606896393454',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.683
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896393454',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.683
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs
middleware requestProcessor Request {
  id: '1606896393457',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896393.586
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896423267,
  isConfirmed: true,
  iat: 1606896393,
  exp: 1606896423
}
middleware requestProcessor almost done Request {
  id: '1606896393457',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.681
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {}
  },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  5fbfccf61a28804352da6fb6
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 51,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606896393454',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 51,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 51,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 51,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c 162MS
AMJ Request {
  id: '1606896393457',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.681
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {
      query: [Object],
      sort: {},
      attributes: [],
      pageNum: 1,
      pageSize: 5
    },
    query: { pageSize: '5', pageNum: '1' },
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository {
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} {} [
  'author',
  'postId',
  'commentId',
  'location',
  'opinionType',
  'isDeleted',
  'stats',
  'createdAt',
  'lastModifiedAt'
] 5 1
{
  '$and': [
    { author: '5fbb52979ec81978f200e7e7' },
    {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      commentId: '5fbfccf61a28804352da6fb6'
    }
  ]
} 5 1
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 51,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 171MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c?full=true { full: 'true' } {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896393627',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"47b-8bgkfu/G8ubWrmaLj5t+vLYc/2E"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
[
  {
    opinionType: 'upvote',
    _id: 5fc74b09829c00d8e0a87c88,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: '5fbfccf61a28804352da6fb6',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc74b09829c00d8e0a87c89,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-12-02T08:06:33.413Z
  }
]
embedAuthorInformation [
  {
    opinionType: 'upvote',
    _id: 5fc74b09829c00d8e0a87c88,
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: '5fbfccf61a28804352da6fb6',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fc74b09829c00d8e0a87c89,
      raw: [Object]
    },
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-12-02T08:06:33.413Z
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    opinionType: 'upvote',
    _id: '5fc74b09829c00d8e0a87c88',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    commentId: '5fbfccf61a28804352da6fb6',
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fc74b09829c00d8e0a87c89',
      raw: [Object]
    },
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-12-02T08:06:33.413Z'
  }
]
::1 POST /search?pageSize=5&pageNum=1 175MS
logger version v1
::1 GET /api/v1/post/5fbfc35293e1dc3f2ce5dd7c/comment/5fbfccf61a28804352da6fb6 {} {}
middleware requestProcessor begin
middleware requestProcessor Request {
  id: '1606896393638',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '',
    token: {
      type: '',
      value: '',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: 0
    }
  },
  location: { latitude: 0, longitude: 0, raw: {} },
  raw: { body: {}, query: {}, params: {} },
  hasToken: false
}
{
  host: 'localhost:5000',
  connection: 'keep-alive',
  accept: 'application/json, text/plain, */*',
  authorization: 'Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
  'user-agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_5) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.75 Safari/537.36',
  origin: 'http://localhost:3000',
  'sec-fetch-site': 'same-site',
  'sec-fetch-mode': 'cors',
  'sec-fetch-dest': 'empty',
  referer: 'http://localhost:3000/',
  'accept-encoding': 'gzip, deflate, br',
  'accept-language': 'en-US,en;q=0.9,mt;q=0.8',
  'if-none-match': 'W/"3d6-2AGmF8Q5eHa4pvO+JlkNHS+jaUw"'
}
xForwardedFor undefined req.connection.remoteAddress ::1
ip undefined
getIP [Function: sequential]
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs
middleware requestProcessor Request {
  id: '1606896393638',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896394.212
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896423267,
  isConfirmed: true,
  iat: 1606896393,
  exp: 1606896423
}
middleware requestProcessor almost done Request {
  id: '1606896393638',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.054
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: {}, params: {} },
  hasToken: true
}
base.repository  5fbfc35293e1dc3f2ce5dd7c
err null ip 23.119.247.180
ip updated 23.119.247.180
Access eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs
middleware requestProcessor Request {
  id: '1606896393627',
  user: { isAuthenticated: false, isConfirmed: false, id: '', email: '' },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 0,
      isExpired: true,
      secondsToExpiry: -1606896394.215
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
requestProcessor activeTokenCount 1 {
  id: '5fbb52979ec81978f200e7e7',
  email: 'nihal+test2@isitjustme.info',
  expiryTime: 1606896423267,
  isConfirmed: true,
  iat: 1606896393,
  exp: 1606896423
}
middleware requestProcessor almost done Request {
  id: '1606896393627',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.052
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: { body: {}, query: { full: 'true' }, params: {} },
  hasToken: true
}
AMJ Request {
  id: '1606896393627',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.052
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: { full: 'true' },
    params: { id: '5fbfc35293e1dc3f2ce5dd7c' }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfc35293e1dc3f2ce5dd7c
AMJ Request {
  id: '1606896393638',
  user: {
    isAuthenticated: true,
    isConfirmed: true,
    id: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info'
  },
  header: {
    ip: '23.119.247.180',
    token: {
      type: 'access',
      value: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmYmI1Mjk3OWVjODE5NzhmMjAwZTdlNyIsImVtYWlsIjoibmloYWwrdGVzdDJAaXNpdGp1c3RtZS5pbmZvIiwiZXhwaXJ5VGltZSI6MTYwNjg5NjQyMzI2NywiaXNDb25maXJtZWQiOnRydWUsImlhdCI6MTYwNjg5NjM5MywiZXhwIjoxNjA2ODk2NDIzfQ.lfXbMwUxTGRRT4JOb7oGMilhXJYN38Ss_BTbhNddqRs',
      expiryTime: 1606896423267,
      isExpired: false,
      secondsToExpiry: 29.054
    }
  },
  location: {
    latitude: 38.6841,
    longitude: -121.0676,
    raw: {
      range: [Array],
      country: 'US',
      region: 'CA',
      eu: '0',
      timezone: 'America/Los_Angeles',
      city: 'El Dorado Hills',
      ll: [Array],
      metro: 862,
      area: 10
    }
  },
  raw: {
    body: {},
    query: {},
    params: {
      postId: '5fbfc35293e1dc3f2ce5dd7c',
      id: '5fbfccf61a28804352da6fb6'
    }
  },
  hasToken: true
}
AMJ done
base.repository  5fbfccf61a28804352da6fb6
base.repository  5fbfc35293e1dc3f2ce5dd7c
base.repository  { _id: '5fbfccf61a28804352da6fb6', postId: '5fbfc35293e1dc3f2ce5dd7c' }
PubSub {
  request: Request {
    id: '1606896393627',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: [Object], params: [Object] },
    hasToken: true
  },
  type: 'POST_READ',
  data: {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 52,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
}
updateStat 5fbfc35293e1dc3f2ce5dd7c [ { property: 'viewCount', increase: 1 } ]
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfc4af63959d3fb29ceb69,
      raw: [Object]
    },
    stats: {
      viewCount: 52,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: 5fbfc35293e1dc3f2ce5dd7b
    },
    _id: 5fbfc35293e1dc3f2ce5dd7c,
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:01:38.097Z,
    lastModifiedAt: 2020-11-26T15:07:27.432Z,
    threadLastUpdatedAt: 2020-11-26T15:01:38.097Z,
    __v: 0
  }
]
PubSub {
  request: Request {
    id: '1606896393638',
    user: {
      isAuthenticated: true,
      isConfirmed: true,
      id: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info'
    },
    header: { ip: '23.119.247.180', token: [Object] },
    location: { latitude: 38.6841, longitude: -121.0676, raw: [Object] },
    raw: { body: {}, query: {}, params: [Object] },
    hasToken: true
  },
  type: 'COMMENT_READ',
  data: {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 1,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: 5fbfcd6f1a28804352da7025,
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 1,
      _id: 5fbfccf61a28804352da6fb5
    },
    _id: 5fbfccf61a28804352da6fb6,
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: '5fbb52979ec81978f200e7e7',
    createdAt: 2020-11-26T15:42:46.242Z,
    lastModifiedAt: 2020-11-26T15:42:46.242Z,
    __v: 0
  }
]
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    content: {
      tags: [Array],
      title: 'Who is this guy?',
      body: '<p>I saw this guy in a cricket match.</p><p><br></p><p><img src="https://i.dawn.com/large/2019/06/5d0261b7b14c7.jpg"></p>'
    },
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfc4af63959d3fb29ceb69',
      raw: [Object]
    },
    stats: {
      viewCount: 52,
      followCount: 1,
      upvoteCount: 2,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 2,
      updateCount: 0,
      resolveCount: 1,
      score: 4,
      _id: '5fbfc35293e1dc3f2ce5dd7b'
    },
    _id: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:01:38.097Z',
    lastModifiedAt: '2020-11-26T15:07:27.432Z',
    threadLastUpdatedAt: '2020-11-26T15:01:38.097Z',
    __v: 0
  }
]
::1 GET /5fbfc35293e1dc3f2ce5dd7c?full=true 604MS
embedAuthorInformation {
  '5fbb52979ec81978f200e7e7': {
    firstName: 'Nihal',
    lastName: 'Konda',
    displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
    _id: '5fbb52979ec81978f200e7e8',
    userId: '5fbb52979ec81978f200e7e7',
    email: 'nihal+test2@isitjustme.info',
    createdAt: '2020-11-23T06:11:35.847Z',
    lastModifiedAt: '2020-11-23T13:17:49.521Z',
    __v: 0
  }
}
embedAuthorInformation [
  {
    context: 'resolve',
    isDeleted: false,
    location: {
      latitude: 38.6841,
      longitude: -121.0676,
      _id: '5fbfcd6f1a28804352da7025',
      raw: [Object]
    },
    stats: {
      viewCount: 0,
      followCount: 0,
      upvoteCount: 1,
      downvoteCount: 0,
      spamreportCount: 0,
      commentCount: 0,
      updateCount: 0,
      resolveCount: 0,
      score: 1,
      _id: '5fbfccf61a28804352da6fb5'
    },
    _id: '5fbfccf61a28804352da6fb6',
    content: '<p>Comment 2</p>',
    postId: '5fbfc35293e1dc3f2ce5dd7c',
    author: {
      firstName: 'Nihal',
      lastName: 'Konda',
      displayPicture: 'https://i.imgur.com/h6wPTyR.jpg',
      _id: '5fbb52979ec81978f200e7e8',
      userId: '5fbb52979ec81978f200e7e7',
      email: 'nihal+test2@isitjustme.info',
      createdAt: '2020-11-23T06:11:35.847Z',
      lastModifiedAt: '2020-11-23T13:17:49.521Z',
      __v: 0
    },
    createdAt: '2020-11-26T15:42:46.242Z',
    lastModifiedAt: '2020-11-26T15:42:46.242Z',
    __v: 0
  }
]
::1 GET /5fbfccf61a28804352da6fb6 594MS
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `ts-node ./src/index.ts`[39m
{
  createTransport: [Function (anonymous)],
  createTestAccount: [Function (anonymous)],
  getTestMessageUrl: [Function (anonymous)]
} [Function (anonymous)]
<ref *1> Mail {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  options: {},
  _defaults: {},
  _defaultPlugins: { compile: [ [Function (anonymous)] ], stream: [] },
  _userPlugins: { compile: [], stream: [] },
  meta: Map(0) {},
  dkim: false,
  transporter: SMTPTransport {
    _events: [Object: null prototype] {
      log: [Function (anonymous)],
      error: [Function (anonymous)],
      idle: [Function (anonymous)]
    },
    _eventsCount: 3,
    _maxListeners: undefined,
    options: {
      service: 'gmail',
      host: 'smtp.gmail.com',
      auth: [Object],
      port: 465,
      secure: true
    },
    logger: {
      info: [Function: info],
      debug: [Function: debug],
      error: [Function: error]
    },
    name: 'SMTP',
    version: '2.7.4[client:2.12.0]',
    mailer: [Circular *1],
    [Symbol(kCapture)]: false
  },
  logger: {
    trace: [Function (anonymous)],
    debug: [Function (anonymous)],
    info: [Function (anonymous)],
    warn: [Function (anonymous)],
    error: [Function (anonymous)],
    fatal: [Function (anonymous)]
  },
  close: [Function (anonymous)],
  isIdle: [Function (anonymous)],
  verify: [Function (anonymous)],
  [Symbol(kCapture)]: false
}
node-library
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ false false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
AMJ true false
AMJ false false
AMJ false false
AMJ true false
AMJ true false
POST	/api/v1/auth/sign_up
POST	/api/v1/auth/sign_in
GET	/api/v1/auth/access_token
GET	/api/v1/auth/me
GET	/api/v1/auth/send_confirmation_token
POST	/api/v1/auth/confirmation_token
DELETE	/api/v1/auth/sign_out
DELETE	/api/v1/auth/sign_out_all
POST	/api/v1/user/search
PUT	/api/v1/user
GET	/api/v1/user/me
GET	/api/v1/user/:id
POST	/api/v1/tag/search
GET	/api/v1/tag/:id
POST	/api/v1/post
POST	/api/v1/post/search
GET	/api/v1/post/:id
PUT	/api/v1/post/:id
DELETE	/api/v1/post/:id
POST	/api/v1/post/:postId/comment
POST	/api/v1/post/:postId/comment/search
GET	/api/v1/post/:postId/comment/:id
PUT	/api/v1/post/:postId/comment/:id
DELETE	/api/v1/post/:postId/comment/:id
POST	/api/v1/post/:postId/comment/:commentId/opinion
POST	/api/v1/post/:postId/comment/:commentId/opinion/search
GET	/api/v1/post/:postId/comment/:commentId/opinion/:id
DELETE	/api/v1/post/:postId/comment/:commentId/opinion/:id
POST	/api/v1/post/:postId/opinion
POST	/api/v1/post/:postId/opinion/search
GET	/api/v1/post/:postId/opinion/:id
DELETE	/api/v1/post/:postId/opinion/:id
app listening 5000
db connected
